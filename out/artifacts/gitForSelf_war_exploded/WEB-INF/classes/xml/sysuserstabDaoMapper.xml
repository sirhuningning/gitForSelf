<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hu.mapper.sysuserstabDaoMapper">


  <select id="selectByFilter" parameterType="com.hu.model.sysuserstabDao" resultType="com.hu.model.sysuserstabDao">

    select id,userpass,username
    from sysuserstab s

    where s.username=#{username}
   and s.userpass =#{userpass}

  </select>

  <select id="getRoleManager" parameterType="java.lang.String" resultType="com.hu.model.sysRoleDao">

		select s.id,s.departmenid,s.email,s.status,
		o.colid,c.parentid,o.operate,c.columnname,
		c.anothercolname,c.alias,c.columnslevel,c.rank,s.username,s.realname,
		c.url,c.classcssname,r.roletype,o.roleid,r.rolename
		from sysuserstab s
		inner join userrole u on s.id=u.userid
		inner join roletab r on u.roleid=r.id
		inner join operatecolumntab o on r.id=o.roleid
		inner join columnstab c on c.id=o.colid
		where s.id=#{userid}
		and o.operate like '%query_true%'
		and c.isshow=1
		order by c.rank

  </select>
</mapper>